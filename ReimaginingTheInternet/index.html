<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe-Swap</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Safe-Swap</h1>
    </header>

    <div class="safety-banner">
        ‚ö†Ô∏è ALWAYS MEET IN PUBLIC PLACES AND <b>NEVER</b> SHARE PERSONAL FINANCIAL INFORMATION ‚ö†Ô∏è
    </div>

    <nav>
        <a href="index.html">Home</a>
        <a href="safety.html">Safety</a>
        <a href="about.html">About</a>
       <a href="button.html">
        <button class="post-button">Post Listing</button>
       </a>
    </nav>

    <div class="container">
        <section class="search-section">
            <input type="text" class="search-bar" placeholder="Search listings...">
        </section>

        <div class="categories">
     
            <div class="category-card">
                <h3>Housing</h3>
                <div class="listing">
                    <a href="post.html">Studio Apartment for Rent - Downtown</a>
                </div>
                <div class="listing">
                    <a href="post.html">2BR House with Garden - Suburbs</a>
                </div>
                <div class="listing">
                    <a href="post.html">Vacation Rental</a>
                </div>
                <div class="listing">
                    <a href="post.html">Parking/Storage</a>
                </div>
                <div class="listing">
                    <a href="post.html">Sublets</a>
                </div>
                <div class="listing">
                    <a href="post.html">Office/Commercial</a>
                </div>
            </div>

            <div class="category-card">
                <h3>Jobs</h3>
                <div class="listing">
                    <a href="post.html">Part-time Web Developer</a>
                </div>
                <div class="listing">
                    <a href="post.html">Hairstylist</a>
                </div>
                <div class="listing">
                    <a href="post.html">Restaurant Server</a>
                </div>
                <div class="listing">
                    <a href="post.html">Housekeeper</a>
                </div>
                <div class="listing">
                    <a href="post.html">Dog Walker</a>
                </div>
                <div class="listing">
                    <a href="post.html">Babysitter</a>
                </div>
                <div class="listing">
                    <a href="post.html">Pet Sitter</a>
                </div>
            </div>

            <div class="category-card">
                <h3>For Sale</h3>
                <div class="listing">
                    <a href="post.html">Furniture</a>
                </div>
                <div class="listing">
                    <a href="post.html">Electronics</a>
                </div>
                <div class="listing">
                    <a href="post.html">Toys</a>
                </div>
                <div class="listing">
                    <a href="post.html">Games</a>
                </div>
                <div class="listing">
                    <a href="post.html">Antiques</a>
                </div>
                <div class="listing">
                    <a href="post.html">Automobiles</a>
                </div>
                <div class="listing">
                    <a href="post.html">Books</a>
                </div>
            </div>

            <div class="category-card">
                <h3>Apparel</h3>
                <div class="listing">
                    <a href="post.html">Sweaters</a>
                </div>
                <div class="listing">
                    <a href="post.html">Shoes</a>
                </div>
                <div class="listing">
                    <a href="post.html">Pants</a>
                </div>
                <div class="listing">
                    <a href="post.html">Tops</a>
                </div>   
                <div class="listing">
                    <a href="post.html">Loungewear</a>
                </div>
                <div class="listing">
                    <a href="post.html">Jewelry</a>
                </div>
                <div class="listing">
                    <a href="post.html">Baby + Children</a>
                </div>
            </div>
        </div>
        <style>
            #map {
                height: 500px;
                width: 100%;
            }
            @media (max-width: 768px) {
                #map {
                    height: 300px;
                }
            }
        </style>
    </head>
    <body class="bg-gray-100">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-3xl font-bold text-center mb-6">Safe Swap Locations</h1>
            
            <div class="bg-white shadow-lg rounded-lg overflow-hidden">
                <div class="p-6">
                    <div class="mb-4">
                        <input 
                            type="text" 
                            id="locationSearch" 
                            placeholder="Enter your address or city" 
                            class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <button 
                            id="searchBtn" 
                            class="mt-2 w-full bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600 transition duration-300"
                        >
                            Find Nearby Safe Swap Locations
                        </button>
                    </div>
                    
                    <div id="map" class="rounded-lg"></div>
                    
                    <div id="locationList" class="mt-4 space-y-2"></div>
                </div>
            </div>
        </div>
   
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function initMap() {
                const map = new google.maps.Map(document.getElementById('map'), {
                    center: {lat: 37.0902, lng: -95.7129}, 
                    zoom: 4
                });
    
                const locationSearch = document.getElementById('locationSearch');
                const searchBtn = document.getElementById('searchBtn');
                const locationList = document.getElementById('locationList');
    
                const safeSwapLocations = [
                    {
                        name: "Chapel Hill, NC USPS",
                        address: "1125 S Estes Dr, Chapel Hill, NC 27514",
                        lat: 35.9281,
                        lng: -79.0311
                    },
                    {
                        name: "Raleigh, NC USPS",
                        address: "1 Floretta PL RM 88 Raleigh, NC 27676-9803", 
                        lat: 35.7796,
                        lng: -78.6382
                    },
                    {
                        name: "Charlotte, NC USPS",
                        address: "201 N McDowell ST Charlotte, NC 28204-9700",
                        lat: 35.2271,
                        lng: -80.8431
                    }
                ];
    
                safeSwapLocations.forEach(location => {
                    new google.maps.Marker({
                        position: {lat: location.lat, lng: location.lng},
                        map: map,
                        title: location.name,
                        icon: 'https://maps.google.com/mapfiles/ms/icons/green-dot.png'
                    });
                });
    
                searchBtn.addEventListener('click', () => {
                    const geocoder = new google.maps.Geocoder();
                    const address = locationSearch.value;
    
                    geocoder.geocode({address: address}, (results, status) => {
                        if (status === 'OK') {
                            map.setCenter(results[0].geometry.location);
                            map.setZoom(12);
    
                      
                            locationList.innerHTML = '';
    
                            
                            safeSwapLocations.forEach(location => {
                                const distance = google.maps.geometry.spherical.computeDistanceBetween(
                                    new google.maps.LatLng(location.lat, location.lng),
                                    results[0].geometry.location
                                ) / 1609.34; 
    
                                if (distance <= 20) { 
                                    const locationEl = document.createElement('div');
                                    locationEl.classList.add('p-3', 'bg-gray-100', 'rounded-lg');
                                    locationEl.innerHTML = `
                                        <h3 class="font-bold">${location.name}</h3>
                                        <p class="text-sm text-gray-600">${location.address}</p>
                                        <p class="text-sm">Distance: ${distance.toFixed(1)} miles</p>
                                    `;
                                    locationList.appendChild(locationEl);
                                }
                            });
                        } else {
                            alert('Location not found. Please try again.');
                        }
                    });
                });
            }
        </script>
        <script async
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFVSSIZk-svi6rZkv-g-yemkgf_eKlTXE&callback=initMap&libraries=geometry">
        </script>
    </body>
    </html>
        <section class="safety-tips">
            <h2>üõ°Ô∏è Safety Tips! üõ°Ô∏è</h2>
            <ul> 
                <li>Never send money or personal information before seeing items</li>
                <li>Trust your instincts - if something feels wrong, walk away</li>
                <li>If lockers are unavailable, use our safe meeting spots at local police stations</li>
                <li>Report suspicious activity immediately</li>
            </ul>
        </section>
    </div>
    <footer>
        <p>¬© 2024 SimpleListings - Making local trading safe and easy</p>
        <p>Emergency: Call 911 | Report Suspicious Activity: 555-0123</p>
    </footer>
</body>
</html>
